name: ClickPrompt Workflow
category: Development
author: Phodal Huang
description: ClickPrompt Workflow for development ClickFlow
explain: |
  digraph G {
    0[flowType = "prompt"]
    1[flowType = "interactive"]
  }

steps:
  - name: 初步代码生成
    ask: |
      我要使用 $$placeholder$$，帮我生成代码吧。
    markdownEditor: true
    values:
      placeholder: node-fetch 结合 GitHub issue 来自动化创建 issue
  - name: 创建需求
    ask: |
      我们想在 ClickPrompt 上添加一个新的需求： $$placeholder$$，请帮我写一个需求的 issue。

      要求：输出需求的格式如下：

      """
      **Is your feature request related to a problem? Please describe.**

      No

      **Describe the solution you'd like**

      A clear and concise description of what you want to happen.

      **Describe alternatives you've considered**

      A clear and concise description of any alternative solutions or features you've considered.

      **Additional context**

      Add any other context or screenshots about the feature request here.
      """

      请按照格式输出需求。
    markdownEditor: true
    cachedResponseRegex:
    values:
      placeholder: 在 ClickPrompt 上使用 ChatGPT 自动创建 GitHub issue，以便于社区贡献者能更好的理解这个需求
    actions:
      - name: Create issue
        type: "api"
        postProcessFunction: "toMarkdown"
        api:
          url: https://api.github.com/repos/phodal-archive/apache-arrow-chapi-demo/issues
          method: POST
          headers:
            - key: Authorization
              value: Bearer ${{ secrets.GITHUB_TOKEN }}
          body:
            title: Add ChatGPT for ClickPrompt
            body: $$response$$
            assignees: []
            milestone: null
            labels: []
