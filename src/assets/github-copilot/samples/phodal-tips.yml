name: Phodal's Tips
description: a collections of GitHub Copilot tips by Phodal
category: programming
author: Phodal Huang
homepage: https://www.phodal.com
snippets:
  - name: 函数名 + 输入 + 输出自动填充
    prompt: |
      ```javascript
      function listAllFileUnderDist(
      ```
    result: |
      ```javascript
      function listAllFileUnderDist() {
        const distDir = path.join(__dirname, "../dist");
        const files = walkdir.sync(distDir, { no_recurse: true });
        const index = files.map((f) => {
        return path.relative(distDir, f);
      });
        fs.writeFileSync(path.join(distDir, "index.json"), JSON.stringify(index, null, 2));
      }
      ```

  - name: 数据转换
    prompt: |
      ```typescript
      // for generated by @GitHubCopilot
      // sample data:
      // Prompt: particle effects small breasts, 1 girl, solo
      // Negative prompt: obese, (ugly:1.3), (duplicate:1.3), (morbid)
      // Steps: 20, Sampler: Euler a, CFG scale: 7, Seed: 1338233768, Size: 512x512, Model hash: f773383dbc, Model: anything-v4.5-pruned-fp16
      export function parseStableDiffusionData(prompt: string): StableDiffusionGenData {
      ```
    result: |
      ```typescript
      export function parseStableDiffusionData(prompt: string): StableDiffusionGenData {
        ...
      }
      ```
  - name: 按步骤设计
    prompt: |
      ```typescript
      // 1. split promptMatch by comma
      // 2. match lora name by regex, lora full name: <lora:japaneseDollLikeness_v10:0.1>,
      // 3. push lora name to loras array
      ```
    result: |
      ```typescript
      const loras = promptMatch[1]
        .split(",")
        .map((item) => {
        const match = item.match(/<lora:(.+):.+/);
          return match ? match[1] : "";
      })
        .filter((item) => item !== "");
      ```
  - name: 编程语言间翻译
    prompt: |
      使用注释复制其它语言的代码，如输入 TypeScript，输出语言是 Kotlin
      ```typescript
      //  async checkout(ref: string, startPoint: string): Promise<void> {
      //    const args = ['checkout', '--progress', '--force']
      //    if (startPoint) {
      //      args.push('-B', ref, startPoint)
      //    } else {
      //      args.push(ref)
      //    }
      //
      //    await this.execGit(args)
      //  }
      fun checkout...
      ```
    result: |
      ```kotlin
       fun checkout(ref: String, startPoint: String): Promise<Unit> {
        val args = mutableListOf("checkout", "--progress", "--force")
        if (startPoint != null) {
          args.add("-B")
          args.add(ref)
          args.add(startPoint)
        } else {
          args.add(ref)
        }
        return execGit(args)
      }
      ```
  - name: 测试用例生成
    prompt: |
      ```kotlin
      @Test
      fun `test command manager git branch list`() {
      ```
    result: |
      ```kotlin
      @Test
        fun `test command manager git branch list`() {
        val output = gitCommandManager.branchList(false)
        output.contains("master") shouldBe true
        val branchList = gitCommandManager.parseBranchList(listOf("refs/heads/master"))
        branchList.contains("refs/heads/master") shouldBe false
        branchList.contains("master") shouldBe true
      }
      ```
